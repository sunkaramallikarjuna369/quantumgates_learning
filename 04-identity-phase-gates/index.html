<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Identity & Phase Gates - Quantum Gates Learning</title>
    <link rel="stylesheet" href="../shared/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Identity & Phase Gates</h1>
            <p class="subtitle">I, S, and T Gates for Phase Manipulation</p>
        </header>

        <section class="section">
            <h2>Overview</h2>
            <p>
                Phase gates modify the relative phase between the |0⟩ and |1⟩ components of a qubit 
                without changing the measurement probabilities. They are essential for quantum algorithms 
                and universal quantum computation.
            </p>
            
            <div id="canvas-container"></div>
        </section>

        <section class="section">
            <h2>Identity Gate (I)</h2>
            <div class="gate-card">
                <span class="gate-symbol">I</span>
                <h3>The Do-Nothing Gate</h3>
                
                <div class="matrix">
                    <p>I = </p>
                    <div class="matrix-grid matrix-2x2">
                        <div class="matrix-cell">1</div>
                        <div class="matrix-cell">0</div>
                        <div class="matrix-cell">0</div>
                        <div class="matrix-cell">1</div>
                    </div>
                </div>
                
                <div class="example">
                    <h3>Action</h3>
                    <div class="formula">
                        I|ψ⟩ = |ψ⟩
                    </div>
                    <p>Leaves the qubit unchanged. Used as a placeholder or for timing in circuits.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Phase Gate (S)</h2>
            <div class="gate-card">
                <span class="gate-symbol">S</span>
                <h3>The π/2 Phase Gate</h3>
                
                <div class="matrix">
                    <p>S = </p>
                    <div class="matrix-grid matrix-2x2">
                        <div class="matrix-cell">1</div>
                        <div class="matrix-cell">0</div>
                        <div class="matrix-cell">0</div>
                        <div class="matrix-cell">i</div>
                    </div>
                </div>
                
                <div class="example">
                    <h3>Action on Basis States</h3>
                    <div class="formula">
                        S|0⟩ = |0⟩
                        <br>
                        S|1⟩ = i|1⟩
                    </div>
                    <p>Adds a phase of π/2 to the |1⟩ component.</p>
                </div>
                
                <div class="highlight">
                    <h3>Properties</h3>
                    <ul>
                        <li>S² = Z (two S gates equal one Z gate)</li>
                        <li>S = √Z (square root of Z)</li>
                        <li>Rotation by π/2 about Z-axis</li>
                        <li>Part of the Clifford group</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>T Gate (π/8 Gate)</h2>
            <div class="gate-card">
                <span class="gate-symbol">T</span>
                <h3>The π/4 Phase Gate</h3>
                
                <div class="matrix">
                    <p>T = </p>
                    <div class="matrix-grid matrix-2x2">
                        <div class="matrix-cell">1</div>
                        <div class="matrix-cell">0</div>
                        <div class="matrix-cell">0</div>
                        <div class="matrix-cell">e^(iπ/4)</div>
                    </div>
                </div>
                
                <div class="example">
                    <h3>Action on Basis States</h3>
                    <div class="formula">
                        T|0⟩ = |0⟩
                        <br>
                        T|1⟩ = e^(iπ/4)|1⟩
                    </div>
                    <p>Adds a phase of π/4 to the |1⟩ component.</p>
                </div>
                
                <div class="key-point">
                    <h3>Why "π/8 Gate"?</h3>
                    <p>
                        The T gate is sometimes called the π/8 gate because it can be written as:
                    </p>
                    <div class="formula">
                        T = e^(iπ/8) Rz(π/4)
                    </div>
                    <p>
                        The global phase factor is e^(iπ/8), hence the name.
                    </p>
                </div>
                
                <div class="highlight">
                    <h3>Importance for Universal Computation</h3>
                    <p>
                        The T gate is <strong>crucial for universal quantum computation</strong>. 
                        The Clifford group {H, S, CNOT} alone cannot perform universal computation, 
                        but adding the T gate makes the set universal.
                    </p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Phase Gate Relationships</h2>
            <table class="gate-table">
                <tr>
                    <th>Gate</th>
                    <th>Phase Added</th>
                    <th>Z-axis Rotation</th>
                    <th>Relationship</th>
                </tr>
                <tr>
                    <td>Z</td>
                    <td>π</td>
                    <td>Rz(π)</td>
                    <td>S² = Z</td>
                </tr>
                <tr>
                    <td>S</td>
                    <td>π/2</td>
                    <td>Rz(π/2)</td>
                    <td>T² = S</td>
                </tr>
                <tr>
                    <td>T</td>
                    <td>π/4</td>
                    <td>Rz(π/4)</td>
                    <td>T⁴ = Z</td>
                </tr>
            </table>
            
            <div class="formula">
                T² = S, S² = Z, T⁴ = Z, T⁸ = I
            </div>
        </section>

        <section class="section">
            <h2>Bloch Sphere Interpretation</h2>
            <p>
                Phase gates rotate the state vector around the Z-axis of the Bloch sphere:
            </p>
            <ul>
                <li><strong>Z gate:</strong> π rotation (180°) around Z</li>
                <li><strong>S gate:</strong> π/2 rotation (90°) around Z</li>
                <li><strong>T gate:</strong> π/4 rotation (45°) around Z</li>
            </ul>
            
            <div class="key-point">
                <h3>Effect on Superposition</h3>
                <p>
                    For a state |+⟩ = (|0⟩ + |1⟩)/√2 on the equator:
                </p>
                <ul>
                    <li>S|+⟩ = (|0⟩ + i|1⟩)/√2 = |+i⟩ (rotates to +Y axis)</li>
                    <li>T|+⟩ = (|0⟩ + e^(iπ/4)|1⟩)/√2 (rotates 45° toward +Y)</li>
                </ul>
            </div>
        </section>

        <section class="section">
            <h2>S† and T† Gates</h2>
            <div class="example">
                <h3>Inverse Gates</h3>
                <p>The conjugate transpose (dagger) gates rotate in the opposite direction:</p>
                
                <div class="matrix">
                    <p>S† = </p>
                    <div class="matrix-grid matrix-2x2">
                        <div class="matrix-cell">1</div>
                        <div class="matrix-cell">0</div>
                        <div class="matrix-cell">0</div>
                        <div class="matrix-cell">-i</div>
                    </div>
                    <p style="margin-left: 30px;">T† = </p>
                    <div class="matrix-grid matrix-2x2">
                        <div class="matrix-cell">1</div>
                        <div class="matrix-cell">0</div>
                        <div class="matrix-cell">0</div>
                        <div class="matrix-cell">e^(-iπ/4)</div>
                    </div>
                </div>
                
                <p>
                    SS† = S†S = I and TT† = T†T = I
                </p>
            </div>
        </section>

        <div class="nav-buttons">
            <a href="../03-pauli-gates/index.html" class="btn">Previous: Pauli Gates</a>
            <a href="../05-hadamard-gate/index.html" class="btn btn-primary">Next: Hadamard Gate</a>
        </div>
    </div>

    <script>
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x0a0a0a);
        
        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
        camera.position.set(2, 2, 3);
        
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        container.appendChild(renderer.domElement);
        
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);
        const pointLight = new THREE.PointLight(0xffffff, 0.8);
        pointLight.position.set(10, 10, 10);
        scene.add(pointLight);
        
        // Bloch sphere
        const sphereGeometry = new THREE.SphereGeometry(1, 32, 32);
        const sphereMaterial = new THREE.MeshPhongMaterial({
            color: 0x64ffda,
            transparent: true,
            opacity: 0.15
        });
        scene.add(new THREE.Mesh(sphereGeometry, sphereMaterial));
        
        const wireframeGeometry = new THREE.SphereGeometry(1, 16, 16);
        const wireframeMaterial = new THREE.MeshBasicMaterial({
            color: 0x64ffda,
            wireframe: true,
            transparent: true,
            opacity: 0.2
        });
        scene.add(new THREE.Mesh(wireframeGeometry, wireframeMaterial));
        
        // Axes
        const axisLength = 1.3;
        scene.add(new THREE.ArrowHelper(new THREE.Vector3(1, 0, 0), new THREE.Vector3(0, 0, 0), axisLength, 0xff6b6b, 0.1, 0.05));
        scene.add(new THREE.ArrowHelper(new THREE.Vector3(0, 1, 0), new THREE.Vector3(0, 0, 0), axisLength, 0x4ecdc4, 0.1, 0.05));
        scene.add(new THREE.ArrowHelper(new THREE.Vector3(0, 0, 1), new THREE.Vector3(0, 0, 0), axisLength, 0xffd93d, 0.1, 0.05));
        
        // Equator circle (where phase gates act)
        const equatorGeometry = new THREE.TorusGeometry(1, 0.02, 16, 100);
        const equatorMaterial = new THREE.MeshBasicMaterial({ color: 0xffd93d, transparent: true, opacity: 0.6 });
        const equator = new THREE.Mesh(equatorGeometry, equatorMaterial);
        equator.rotation.x = Math.PI / 2;
        scene.add(equator);
        
        // State on equator showing phase rotation
        const stateArrow = new THREE.ArrowHelper(
            new THREE.Vector3(1, 0, 0),
            new THREE.Vector3(0, 0, 0),
            1, 0xff6b6b, 0.15, 0.1
        );
        scene.add(stateArrow);
        
        // Phase markers
        const phases = [0, Math.PI/4, Math.PI/2, Math.PI];
        const phaseColors = [0x4ecdc4, 0xa8e6cf, 0xffd93d, 0xff6b6b];
        const phaseLabels = ['|+⟩', 'T|+⟩', 'S|+⟩', 'Z|+⟩'];
        
        phases.forEach((phase, i) => {
            const x = Math.cos(phase);
            const y = Math.sin(phase);
            const marker = new THREE.Mesh(
                new THREE.SphereGeometry(0.08, 16, 16),
                new THREE.MeshBasicMaterial({ color: phaseColors[i] })
            );
            marker.position.set(x, y, 0);
            scene.add(marker);
        });
        
        let time = 0;
        function animate() {
            requestAnimationFrame(animate);
            time += 0.02;
            
            // Rotate state around Z-axis to show phase gate action
            const phase = time % (2 * Math.PI);
            const x = Math.cos(phase);
            const y = Math.sin(phase);
            stateArrow.setDirection(new THREE.Vector3(x, y, 0).normalize());
            
            controls.update();
            renderer.render(scene, camera);
        }
        animate();
        
        window.addEventListener('resize', () => {
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        });
    </script>
</body>
</html>
