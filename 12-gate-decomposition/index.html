<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gate Decomposition - Quantum Gates Learning</title>
    <link rel="stylesheet" href="../shared/styles.css">
    <style>
        .decomposition-visual {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            text-align: center;
        }
        .decomposition-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .gate-box {
            padding: 15px 25px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.1em;
        }
        .gate-box.target {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
        }
        .arrow {
            font-size: 1.5em;
            color: #ffd93d;
        }
        .euler-diagram {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }
        .euler-step {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        .euler-step h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        .matrix-small {
            font-family: monospace;
            font-size: 0.9em;
            background: rgba(0,0,0,0.3);
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .circuit-svg {
            max-width: 100%;
            margin: 20px auto;
            display: block;
        }
        @media (max-width: 768px) {
            .euler-diagram {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Gate Decomposition</h1>
            <p class="subtitle">Breaking Complex Operations into Simple Gates</p>
        </header>

        <section class="section">
            <h2>Why Decompose Gates?</h2>
            <p>
                Real quantum computers can only implement a limited set of physical gates. 
                <strong>Gate decomposition</strong> is the process of expressing any quantum operation 
                as a sequence of gates from a universal set.
            </p>
            
            <div class="key-point">
                <h3>The Compilation Problem</h3>
                <p>
                    Just as classical compilers translate high-level code to machine instructions, 
                    quantum compilers decompose arbitrary unitaries into native gate sets.
                </p>
            </div>
        </section>

        <section class="section">
            <h2>Single-Qubit Decomposition: Euler Angles</h2>
            
            <div class="decomposition-visual">
                <h3>Any Single-Qubit Gate = Rz · Ry · Rz</h3>
                <div class="decomposition-flow">
                    <div class="gate-box target">U</div>
                    <span class="arrow">=</span>
                    <div class="gate-box">Rz(α)</div>
                    <span class="arrow">·</span>
                    <div class="gate-box">Ry(β)</div>
                    <span class="arrow">·</span>
                    <div class="gate-box">Rz(γ)</div>
                </div>
                <p>Every single-qubit unitary can be written as three rotations!</p>
            </div>
            
            <div class="euler-diagram">
                <div class="euler-step">
                    <h4>Step 1: Rz(γ)</h4>
                    <p>Rotate around Z-axis</p>
                    <div class="matrix-small">
                        [e^(-iγ/2), 0]<br>
                        [0, e^(iγ/2)]
                    </div>
                </div>
                <div class="euler-step">
                    <h4>Step 2: Ry(β)</h4>
                    <p>Rotate around Y-axis</p>
                    <div class="matrix-small">
                        [cos(β/2), -sin(β/2)]<br>
                        [sin(β/2), cos(β/2)]
                    </div>
                </div>
                <div class="euler-step">
                    <h4>Step 3: Rz(α)</h4>
                    <p>Rotate around Z-axis</p>
                    <div class="matrix-small">
                        [e^(-iα/2), 0]<br>
                        [0, e^(iα/2)]
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Example: Decomposing Hadamard</h2>
            
            <div class="decomposition-visual">
                <h3>H = Rz(π) · Ry(π/2) · Rz(0)</h3>
                <div class="decomposition-flow">
                    <div class="gate-box target">H</div>
                    <span class="arrow">=</span>
                    <div class="gate-box">Rz(π)</div>
                    <span class="arrow">·</span>
                    <div class="gate-box">Ry(π/2)</div>
                </div>
                <p>(The final Rz(0) = I can be omitted)</p>
            </div>
            
            <div class="example">
                <h3>Verification</h3>
                <p>
                    Rz(π) · Ry(π/2) = 
                    [[-1,0],[0,1]] · [[1/√2, -1/√2],[1/√2, 1/√2]]
                    = [[-1/√2, 1/√2],[1/√2, 1/√2]]
                </p>
                <p>This equals H up to a global phase!</p>
            </div>
        </section>

        <section class="section">
            <h2>Two-Qubit Gate Decomposition</h2>
            
            <div class="decomposition-visual">
                <h3>Any Two-Qubit Gate ≈ CNOTs + Single-Qubit Gates</h3>
                <p>
                    The KAK decomposition shows that any two-qubit unitary can be 
                    implemented using at most 3 CNOT gates and single-qubit rotations.
                </p>
                
                <svg class="circuit-svg" width="500" height="120" viewBox="0 0 500 120">
                    <line x1="50" y1="40" x2="450" y2="40" stroke="#64ffda" stroke-width="2"/>
                    <line x1="50" y1="80" x2="450" y2="80" stroke="#64ffda" stroke-width="2"/>
                    
                    <rect x="70" y="25" width="40" height="30" fill="#667eea" rx="5"/>
                    <text x="90" y="45" fill="white" text-anchor="middle" font-size="12">A</text>
                    <rect x="70" y="65" width="40" height="30" fill="#667eea" rx="5"/>
                    <text x="90" y="85" fill="white" text-anchor="middle" font-size="12">B</text>
                    
                    <circle cx="150" cy="40" r="5" fill="#ff6b6b"/>
                    <line x1="150" y1="45" x2="150" y2="75" stroke="#ff6b6b" stroke-width="2"/>
                    <circle cx="150" cy="80" r="10" fill="none" stroke="#ff6b6b" stroke-width="2"/>
                    <line x1="140" y1="80" x2="160" y2="80" stroke="#ff6b6b" stroke-width="2"/>
                    
                    <rect x="180" y="25" width="40" height="30" fill="#667eea" rx="5"/>
                    <text x="200" y="45" fill="white" text-anchor="middle" font-size="12">C</text>
                    <rect x="180" y="65" width="40" height="30" fill="#667eea" rx="5"/>
                    <text x="200" y="85" fill="white" text-anchor="middle" font-size="12">D</text>
                    
                    <circle cx="260" cy="80" r="5" fill="#ff6b6b"/>
                    <line x1="260" y1="45" x2="260" y2="75" stroke="#ff6b6b" stroke-width="2"/>
                    <circle cx="260" cy="40" r="10" fill="none" stroke="#ff6b6b" stroke-width="2"/>
                    <line x1="250" y1="40" x2="270" y2="40" stroke="#ff6b6b" stroke-width="2"/>
                    
                    <rect x="290" y="25" width="40" height="30" fill="#667eea" rx="5"/>
                    <text x="310" y="45" fill="white" text-anchor="middle" font-size="12">E</text>
                    <rect x="290" y="65" width="40" height="30" fill="#667eea" rx="5"/>
                    <text x="310" y="85" fill="white" text-anchor="middle" font-size="12">F</text>
                    
                    <circle cx="370" cy="40" r="5" fill="#ff6b6b"/>
                    <line x1="370" y1="45" x2="370" y2="75" stroke="#ff6b6b" stroke-width="2"/>
                    <circle cx="370" cy="80" r="10" fill="none" stroke="#ff6b6b" stroke-width="2"/>
                    <line x1="360" y1="80" x2="380" y2="80" stroke="#ff6b6b" stroke-width="2"/>
                    
                    <rect x="400" y="25" width="40" height="30" fill="#667eea" rx="5"/>
                    <text x="420" y="45" fill="white" text-anchor="middle" font-size="12">G</text>
                    <rect x="400" y="65" width="40" height="30" fill="#667eea" rx="5"/>
                    <text x="420" y="85" fill="white" text-anchor="middle" font-size="12">H</text>
                </svg>
                <p style="font-size: 0.9em; opacity: 0.8;">
                    A, B, C, D, E, F, G, H are single-qubit gates; red symbols are CNOTs
                </p>
            </div>
        </section>

        <section class="section">
            <h2>Common Decompositions</h2>
            
            <div class="concept-grid">
                <div class="gate-card">
                    <h3>SWAP = 3 CNOTs</h3>
                    <div class="formula">CNOT₁₂ · CNOT₂₁ · CNOT₁₂</div>
                    <p>Exchange two qubit states using three CNOT gates.</p>
                </div>
                
                <div class="gate-card">
                    <h3>CZ from CNOT</h3>
                    <div class="formula">CZ = (I⊗H) · CNOT · (I⊗H)</div>
                    <p>Controlled-Z using Hadamards and CNOT.</p>
                </div>
                
                <div class="gate-card">
                    <h3>Toffoli ≈ 6 CNOTs</h3>
                    <div class="formula">Multiple CNOTs + T gates</div>
                    <p>Three-qubit Toffoli requires ~6 CNOTs.</p>
                </div>
                
                <div class="gate-card">
                    <h3>X = H · Z · H</h3>
                    <div class="formula">Pauli-X from H and Z</div>
                    <p>Basis change reveals X-Z duality.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Decomposition Costs</h2>
            
            <table class="comparison-table" style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                <thead>
                    <tr style="background: rgba(100,255,218,0.1);">
                        <th style="padding: 15px; border: 1px solid rgba(100,255,218,0.2); color: var(--primary-color);">Gate</th>
                        <th style="padding: 15px; border: 1px solid rgba(100,255,218,0.2); color: var(--primary-color);">CNOTs Required</th>
                        <th style="padding: 15px; border: 1px solid rgba(100,255,218,0.2); color: var(--primary-color);">Single-Qubit Gates</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">SWAP</td>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">3</td>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">0</td>
                    </tr>
                    <tr>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">CZ</td>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">1</td>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">2 (H gates)</td>
                    </tr>
                    <tr>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">Toffoli</td>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">6</td>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">~15</td>
                    </tr>
                    <tr>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">Arbitrary 2-qubit</td>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">≤3</td>
                        <td style="padding: 15px; border: 1px solid rgba(100,255,218,0.2);">≤8</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="section">
            <h2>Key Takeaways</h2>
            
            <div class="concept-grid">
                <div class="gate-card">
                    <h3>Euler Decomposition</h3>
                    <p>Any single-qubit gate = Rz · Ry · Rz (three rotations).</p>
                </div>
                
                <div class="gate-card">
                    <h3>KAK Decomposition</h3>
                    <p>Any two-qubit gate needs at most 3 CNOTs.</p>
                </div>
                
                <div class="gate-card">
                    <h3>CNOT is Expensive</h3>
                    <p>Two-qubit gates are harder to implement physically.</p>
                </div>
                
                <div class="gate-card">
                    <h3>Optimization Matters</h3>
                    <p>Minimizing gate count reduces errors in real hardware.</p>
                </div>
            </div>
        </section>

        <div class="nav-buttons">
            <a href="../11-universal-gate-sets/index.html" class="btn">Previous: Universal Gate Sets</a>
            <a href="../13-bloch-sphere-visualization/index.html" class="btn btn-primary">Next: Bloch Sphere</a>
        </div>
    </div>
</body>
</html>
