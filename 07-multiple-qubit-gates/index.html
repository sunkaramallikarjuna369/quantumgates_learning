<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple-Qubit Gates & Tensor Products - Devin's Teaching Style</title>
    <link rel="stylesheet" href="../shared/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        .fourwh-box { background: linear-gradient(135deg, rgba(100,255,218,0.12), rgba(78,205,196,0.06)); border: 2px solid rgba(100,255,218,0.4); border-radius: 16px; padding: 25px; margin: 25px 0; }
        .fourwh-box h3 { color: #64ffda; margin-bottom: 20px; font-size: 1.4em; }
        .fourwh-item { background: rgba(0,0,0,0.4); border-radius: 12px; padding: 20px; margin: 15px 0; border-left: 5px solid; }
        .fourwh-item.what { border-color: #ff6b6b; }
        .fourwh-item.why { border-color: #ffd93d; }
        .fourwh-item.when { border-color: #4ecdc4; }
        .fourwh-item.where { border-color: #a855f7; }
        .fourwh-item.how { border-color: #64ffda; }
        .fourwh-item h4 { margin-bottom: 12px; font-size: 1.2em; }
        .fourwh-item.what h4 { color: #ff6b6b; }
        .fourwh-item.why h4 { color: #ffd93d; }
        .fourwh-item.when h4 { color: #4ecdc4; }
        .fourwh-item.where h4 { color: #a855f7; }
        .fourwh-item.how h4 { color: #64ffda; }
        .fourwh-item p, .fourwh-item li { color: #ccc; line-height: 1.7; }
        .prereq-box { background: linear-gradient(135deg, rgba(168,85,247,0.1), rgba(168,85,247,0.05)); border: 2px solid rgba(168,85,247,0.3); border-radius: 16px; padding: 25px; margin: 20px 0; }
        .prereq-box h3 { color: #a855f7; margin-bottom: 15px; }
        .prereq-item { background: rgba(0,0,0,0.3); border-radius: 10px; padding: 15px; margin: 12px 0; border-left: 4px solid #a855f7; }
        .prereq-item h4 { color: #c084fc; margin-bottom: 8px; }
        .matrix-derivation { background: rgba(255,215,0,0.08); border: 2px solid rgba(255,215,0,0.3); border-radius: 16px; padding: 25px; margin: 25px 0; }
        .matrix-derivation h3 { color: #ffd93d; margin-bottom: 20px; }
        .derivation-step { background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px; margin: 15px 0; }
        .derivation-step h4 { color: #4ecdc4; margin-bottom: 12px; }
        .derivation-step .explanation { color: #ccc; line-height: 1.6; }
        .derivation-step .formula { background: rgba(100,255,218,0.1); padding: 15px; border-radius: 8px; margin: 10px 0; font-family: monospace; font-size: 1.1em; color: #64ffda; text-align: center; }
        .matrix-visual { display: flex; align-items: center; justify-content: center; gap: 15px; margin: 20px 0; flex-wrap: wrap; }
        .matrix-box { display: inline-grid; gap: 4px; background: rgba(0,0,0,0.5); padding: 12px; border-radius: 10px; border: 2px solid rgba(100,255,218,0.3); }
        .matrix-box.m2 { grid-template-columns: repeat(2, 45px); }
        .matrix-box.m4 { grid-template-columns: repeat(4, 45px); }
        .matrix-box .cell { width: 45px; height: 35px; display: flex; align-items: center; justify-content: center; background: rgba(100,255,218,0.15); color: #fff; font-size: 12px; border-radius: 5px; font-family: monospace; }
        .vector-box { display: inline-grid; grid-template-columns: 45px; gap: 4px; background: rgba(0,0,0,0.5); padding: 12px; border-radius: 10px; border: 2px solid rgba(255,107,107,0.3); }
        .vector-box .cell { width: 45px; height: 35px; display: flex; align-items: center; justify-content: center; background: rgba(255,107,107,0.2); color: #ff6b6b; font-size: 12px; border-radius: 5px; font-family: monospace; }
        .op-symbol { font-size: 28px; color: #64ffda; font-weight: bold; }
        .key-insight { background: linear-gradient(135deg, rgba(255,107,107,0.1), rgba(255,107,107,0.05)); border: 2px solid rgba(255,107,107,0.3); border-radius: 12px; padding: 20px; margin: 20px 0; }
        .key-insight h4 { color: #ff6b6b; margin-bottom: 10px; }
        .key-insight p { color: #ccc; line-height: 1.6; }
        .tensor-demo { background: rgba(0,0,0,0.4); border-radius: 16px; padding: 25px; margin: 25px 0; border: 2px solid rgba(100,255,218,0.3); }
        .tensor-demo h3 { color: #64ffda; margin-bottom: 20px; }
        .state-display { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin: 20px 0; }
        .qubit-state { background: rgba(0,0,0,0.5); border-radius: 12px; padding: 20px; text-align: center; min-width: 150px; }
        .qubit-state h4 { color: #a855f7; margin-bottom: 10px; }
        .qubit-state .state { font-size: 1.5em; color: #64ffda; font-family: monospace; }
        .qubit-state .vector { color: #888; font-size: 0.9em; margin-top: 8px; }
        .combined-state { background: rgba(100,255,218,0.1); border-radius: 12px; padding: 20px; text-align: center; margin-top: 20px; }
        .combined-state h4 { color: #64ffda; margin-bottom: 10px; }
        .combined-state .state { font-size: 1.3em; color: #fff; font-family: monospace; }
        .interactive-controls { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 20px 0; }
        .ctrl-btn { padding: 12px 24px; border: none; border-radius: 10px; font-size: 15px; cursor: pointer; font-weight: bold; transition: all 0.3s; }
        .ctrl-btn:hover { transform: scale(1.05); box-shadow: 0 4px 20px rgba(0,0,0,0.4); }
        .btn-h { background: linear-gradient(135deg, #a855f7, #c084fc); color: #fff; }
        .btn-x { background: linear-gradient(135deg, #ff6b6b, #ff8e8e); color: #fff; }
        .btn-reset { background: linear-gradient(135deg, #666, #888); color: #fff; }
        .basis-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .basis-table th, .basis-table td { padding: 12px; text-align: center; border: 1px solid rgba(100,255,218,0.3); }
        .basis-table th { background: rgba(100,255,218,0.2); color: #64ffda; }
        .basis-table td { background: rgba(0,0,0,0.3); color: #ccc; font-family: monospace; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Multiple-Qubit Gates & Tensor Products</h1>
            <p class="subtitle">How Quantum States Combine - The Foundation of Quantum Parallelism</p>
        </header>

        <section class="section">
            <div class="prereq-box">
                <h3>Prerequisites - Understanding Multi-Qubit Systems</h3>
                <div class="prereq-item">
                    <h4>1. What is a Tensor Product?</h4>
                    <p>The tensor product (⊗) combines two vector spaces into a larger one. For qubits: |ψ⟩⊗|φ⟩ creates a 2-qubit state. If |ψ⟩ is 2D and |φ⟩ is 2D, then |ψ⟩⊗|φ⟩ is 4D. This is how quantum systems scale exponentially!</p>
                </div>
                <div class="prereq-item">
                    <h4>2. Computational Basis for 2 Qubits</h4>
                    <p>Two qubits have 4 basis states: |00⟩, |01⟩, |10⟩, |11⟩. The first digit is qubit 1, second is qubit 2. These correspond to vectors [1,0,0,0], [0,1,0,0], [0,0,1,0], [0,0,0,1].</p>
                </div>
                <div class="prereq-item">
                    <h4>3. Kronecker Product for Matrices</h4>
                    <p>When gates act on different qubits, their matrices combine via Kronecker product. If A acts on qubit 1 and B on qubit 2, the combined operation is A⊗B. This "tiles" A with scaled copies of B.</p>
                </div>
                <div class="prereq-item">
                    <h4>4. Separable vs Entangled States</h4>
                    <p>A state is "separable" if it can be written as |ψ⟩⊗|φ⟩. If not, it's "entangled" - the qubits are correlated in a way that can't be described independently. Entanglement is a uniquely quantum resource!</p>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="fourwh-box">
                <h3>Tensor Products - The 4W+H Framework</h3>
                
                <div class="fourwh-item what">
                    <h4>WHAT is a Tensor Product?</h4>
                    <p>The tensor product combines quantum systems. For states: |ψ⟩⊗|φ⟩ = |ψφ⟩. For matrices: (A⊗B)|ψφ⟩ = (A|ψ⟩)⊗(B|φ⟩). The dimension multiplies: 2⊗2 = 4, 2⊗2⊗2 = 8, etc. This exponential growth is the source of quantum computing power!</p>
                </div>
                
                <div class="fourwh-item why">
                    <h4>WHY do we need tensor products?</h4>
                    <p>Quantum systems combine multiplicatively, not additively. Two classical bits give 2+2=4 states to track. Two qubits give 2×2=4 amplitudes, but n qubits give 2ⁿ amplitudes! This exponential state space is why quantum computers can solve certain problems faster.</p>
                </div>
                
                <div class="fourwh-item when">
                    <h4>WHEN to use tensor products?</h4>
                    <p><strong>State preparation:</strong> |00⟩ = |0⟩⊗|0⟩. <strong>Parallel gates:</strong> H⊗H applies H to both qubits. <strong>Identity extension:</strong> X⊗I applies X to qubit 1 only. <strong>Entanglement:</strong> CNOT creates states that CANNOT be written as tensor products!</p>
                </div>
                
                <div class="fourwh-item where">
                    <h4>WHERE in quantum circuits?</h4>
                    <p>Every multi-qubit circuit uses tensor products implicitly. When you draw parallel wires, you're taking tensor products. When gates act on different qubits simultaneously, their matrices are Kronecker products. The circuit notation hides this complexity!</p>
                </div>
                
                <div class="fourwh-item how">
                    <h4>HOW to compute tensor products?</h4>
                    <p>For vectors: [a,b]⊗[c,d] = [ac, ad, bc, bd]. For matrices: each element of A is replaced by that element times the entire matrix B. This is the Kronecker product formula.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="tensor-demo">
                <h3>Interactive Tensor Product Demo</h3>
                <p style="color:#888;margin-bottom:20px;">Click buttons to change individual qubit states and see how the combined state changes.</p>
                
                <div class="state-display">
                    <div class="qubit-state">
                        <h4>Qubit 1</h4>
                        <div class="state" id="q1-state">|0⟩</div>
                        <div class="vector" id="q1-vector">[1, 0]</div>
                        <div class="interactive-controls" style="margin-top:15px;">
                            <button class="ctrl-btn btn-x" onclick="applyGate(1,'X')" style="padding:8px 16px;font-size:13px;">X</button>
                            <button class="ctrl-btn btn-h" onclick="applyGate(1,'H')" style="padding:8px 16px;font-size:13px;">H</button>
                        </div>
                    </div>
                    <div style="display:flex;align-items:center;font-size:2em;color:#64ffda;">⊗</div>
                    <div class="qubit-state">
                        <h4>Qubit 2</h4>
                        <div class="state" id="q2-state">|0⟩</div>
                        <div class="vector" id="q2-vector">[1, 0]</div>
                        <div class="interactive-controls" style="margin-top:15px;">
                            <button class="ctrl-btn btn-x" onclick="applyGate(2,'X')" style="padding:8px 16px;font-size:13px;">X</button>
                            <button class="ctrl-btn btn-h" onclick="applyGate(2,'H')" style="padding:8px 16px;font-size:13px;">H</button>
                        </div>
                    </div>
                </div>
                
                <div class="combined-state">
                    <h4>Combined 2-Qubit State (Tensor Product)</h4>
                    <div class="state" id="combined-state">|00⟩</div>
                    <div style="color:#888;margin-top:10px;font-family:monospace;" id="combined-vector">[1, 0, 0, 0]</div>
                    <div style="color:#888;margin-top:10px;font-size:0.9em;" id="combined-expansion">= 1|00⟩ + 0|01⟩ + 0|10⟩ + 0|11⟩</div>
                </div>
                
                <div class="interactive-controls" style="margin-top:20px;">
                    <button class="ctrl-btn btn-reset" onclick="resetQubits()">Reset Both to |0⟩</button>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="matrix-derivation">
                <h3>HOW to Compute Tensor Products</h3>
                
                <div class="derivation-step">
                    <h4>Step 1: Vector Tensor Product</h4>
                    <p class="explanation">To compute |ψ⟩⊗|φ⟩, multiply each element of |ψ⟩ by the entire vector |φ⟩:</p>
                    <div class="formula">[a, b]ᵀ ⊗ [c, d]ᵀ = [a·c, a·d, b·c, b·d]ᵀ</div>
                </div>
                
                <div class="derivation-step">
                    <h4>Example: |0⟩⊗|1⟩ = |01⟩</h4>
                    <div class="matrix-visual">
                        <div class="vector-box">
                            <div class="cell">1</div><div class="cell">0</div>
                        </div>
                        <span class="op-symbol">⊗</span>
                        <div class="vector-box">
                            <div class="cell">0</div><div class="cell">1</div>
                        </div>
                        <span class="op-symbol">=</span>
                        <div class="vector-box">
                            <div class="cell">1·0</div><div class="cell">1·1</div><div class="cell">0·0</div><div class="cell">0·1</div>
                        </div>
                        <span class="op-symbol">=</span>
                        <div class="vector-box">
                            <div class="cell">0</div><div class="cell">1</div><div class="cell">0</div><div class="cell">0</div>
                        </div>
                    </div>
                    <p class="explanation" style="margin-top:10px;">This is |01⟩ - the second basis state (index 1 in 0-indexing).</p>
                </div>
                
                <div class="derivation-step">
                    <h4>Example: |+⟩⊗|0⟩</h4>
                    <div class="matrix-visual">
                        <div class="vector-box">
                            <div class="cell">1/√2</div><div class="cell">1/√2</div>
                        </div>
                        <span class="op-symbol">⊗</span>
                        <div class="vector-box">
                            <div class="cell">1</div><div class="cell">0</div>
                        </div>
                        <span class="op-symbol">=</span>
                        <div class="vector-box">
                            <div class="cell">1/√2</div><div class="cell">0</div><div class="cell">1/√2</div><div class="cell">0</div>
                        </div>
                    </div>
                    <p class="explanation" style="margin-top:10px;">= (1/√2)(|00⟩ + |10⟩). Qubit 1 is in superposition, qubit 2 is |0⟩.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="matrix-derivation">
                <h3>Matrix Tensor Product (Kronecker Product)</h3>
                
                <div class="derivation-step">
                    <h4>The Kronecker Product Formula</h4>
                    <p class="explanation">For matrices A and B, A⊗B replaces each element aᵢⱼ of A with aᵢⱼ·B:</p>
                    <div class="matrix-visual">
                        <div class="matrix-box m2">
                            <div class="cell">a</div><div class="cell">b</div>
                            <div class="cell">c</div><div class="cell">d</div>
                        </div>
                        <span class="op-symbol">⊗</span>
                        <span style="color:#888;">B</span>
                        <span class="op-symbol">=</span>
                        <div class="matrix-box m4">
                            <div class="cell">a·B</div><div class="cell" colspan="2"></div><div class="cell">b·B</div>
                            <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
                            <div class="cell">c·B</div><div class="cell"></div><div class="cell">d·B</div><div class="cell"></div>
                            <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
                        </div>
                    </div>
                </div>
                
                <div class="derivation-step">
                    <h4>Example: X⊗I (X on qubit 1, Identity on qubit 2)</h4>
                    <div class="matrix-visual">
                        <div class="matrix-box m2" style="border-color:rgba(255,107,107,0.5);">
                            <div class="cell" style="background:rgba(255,107,107,0.2);">0</div><div class="cell" style="background:rgba(255,107,107,0.2);">1</div>
                            <div class="cell" style="background:rgba(255,107,107,0.2);">1</div><div class="cell" style="background:rgba(255,107,107,0.2);">0</div>
                        </div>
                        <span class="op-symbol">⊗</span>
                        <div class="matrix-box m2">
                            <div class="cell">1</div><div class="cell">0</div>
                            <div class="cell">0</div><div class="cell">1</div>
                        </div>
                        <span class="op-symbol">=</span>
                        <div class="matrix-box m4">
                            <div class="cell">0</div><div class="cell">0</div><div class="cell">1</div><div class="cell">0</div>
                            <div class="cell">0</div><div class="cell">0</div><div class="cell">0</div><div class="cell">1</div>
                            <div class="cell">1</div><div class="cell">0</div><div class="cell">0</div><div class="cell">0</div>
                            <div class="cell">0</div><div class="cell">1</div><div class="cell">0</div><div class="cell">0</div>
                        </div>
                    </div>
                    <p class="explanation" style="margin-top:10px;">This swaps |00⟩↔|10⟩ and |01⟩↔|11⟩ (flips qubit 1).</p>
                </div>
                
                <div class="derivation-step">
                    <h4>Example: H⊗H (Hadamard on both qubits)</h4>
                    <div class="formula">H⊗H = (1/2)[[1,1,1,1],[1,-1,1,-1],[1,1,-1,-1],[1,-1,-1,1]]</div>
                    <p class="explanation">Applied to |00⟩, this creates (1/2)(|00⟩+|01⟩+|10⟩+|11⟩) - uniform superposition of all 4 states!</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h3>2-Qubit Computational Basis</h3>
            <table class="basis-table">
                <tr>
                    <th>State</th>
                    <th>Qubit 1</th>
                    <th>Qubit 2</th>
                    <th>Vector</th>
                    <th>Index</th>
                </tr>
                <tr>
                    <td>|00⟩</td>
                    <td>|0⟩</td>
                    <td>|0⟩</td>
                    <td>[1,0,0,0]ᵀ</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>|01⟩</td>
                    <td>|0⟩</td>
                    <td>|1⟩</td>
                    <td>[0,1,0,0]ᵀ</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>|10⟩</td>
                    <td>|1⟩</td>
                    <td>|0⟩</td>
                    <td>[0,0,1,0]ᵀ</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>|11⟩</td>
                    <td>|1⟩</td>
                    <td>|1⟩</td>
                    <td>[0,0,0,1]ᵀ</td>
                    <td>3</td>
                </tr>
            </table>
            <div class="key-insight">
                <h4>Key Insight: Binary Indexing</h4>
                <p>The index of |ab⟩ is the binary number "ab". |00⟩→0, |01⟩→1, |10⟩→2, |11⟩→3. For n qubits, |b₁b₂...bₙ⟩ has index b₁·2ⁿ⁻¹ + b₂·2ⁿ⁻² + ... + bₙ. This is why quantum computers naturally do binary arithmetic!</p>
            </div>
        </section>

        <section class="section">
            <div class="key-insight">
                <h4>Key Insight: Separable vs Entangled</h4>
                <p>A state like |+⟩⊗|0⟩ = (1/√2)(|00⟩+|10⟩) is SEPARABLE - we can factor it. But the Bell state (1/√2)(|00⟩+|11⟩) is ENTANGLED - it CANNOT be written as |ψ⟩⊗|φ⟩ for any single-qubit states! Entanglement is created by 2-qubit gates like CNOT.</p>
            </div>
        </section>

        <div class="nav-buttons">
            <a href="../06-rotation-gates/index.html" class="btn">Previous: Rotation Gates</a>
            <a href="../08-controlled-gates/index.html" class="btn btn-primary">Next: Controlled Gates</a>
        </div>
    </div>

    <script>
    let q1 = {a: 1, b: 0, name: '|0⟩'};
    let q2 = {a: 1, b: 0, name: '|0⟩'};
    
    function updateDisplay() {
        document.getElementById('q1-state').textContent = q1.name;
        document.getElementById('q2-state').textContent = q2.name;
        
        var v1 = '[' + formatNum(q1.a) + ', ' + formatNum(q1.b) + ']';
        var v2 = '[' + formatNum(q2.a) + ', ' + formatNum(q2.b) + ']';
        document.getElementById('q1-vector').textContent = v1;
        document.getElementById('q2-vector').textContent = v2;
        
        var c00 = q1.a * q2.a;
        var c01 = q1.a * q2.b;
        var c10 = q1.b * q2.a;
        var c11 = q1.b * q2.b;
        
        var combined = '[' + formatNum(c00) + ', ' + formatNum(c01) + ', ' + formatNum(c10) + ', ' + formatNum(c11) + ']';
        document.getElementById('combined-vector').textContent = combined;
        
        var expansion = '= ' + formatTerm(c00, '|00⟩') + ' + ' + formatTerm(c01, '|01⟩') + ' + ' + formatTerm(c10, '|10⟩') + ' + ' + formatTerm(c11, '|11⟩');
        document.getElementById('combined-expansion').textContent = expansion;
        
        var stateName = '';
        if (Math.abs(c00 - 1) < 0.01) stateName = '|00⟩';
        else if (Math.abs(c01 - 1) < 0.01) stateName = '|01⟩';
        else if (Math.abs(c10 - 1) < 0.01) stateName = '|10⟩';
        else if (Math.abs(c11 - 1) < 0.01) stateName = '|11⟩';
        else stateName = q1.name + '⊗' + q2.name;
        document.getElementById('combined-state').textContent = stateName;
    }
    
    function formatNum(x) {
        if (Math.abs(x - 1) < 0.01) return '1';
        if (Math.abs(x) < 0.01) return '0';
        if (Math.abs(x - 0.707) < 0.01 || Math.abs(x - 1/Math.sqrt(2)) < 0.01) return '1/√2';
        if (Math.abs(x + 0.707) < 0.01 || Math.abs(x + 1/Math.sqrt(2)) < 0.01) return '-1/√2';
        if (Math.abs(x - 0.5) < 0.01) return '1/2';
        if (Math.abs(x + 0.5) < 0.01) return '-1/2';
        return x.toFixed(2);
    }
    
    function formatTerm(coef, basis) {
        if (Math.abs(coef) < 0.01) return '0' + basis;
        if (Math.abs(coef - 1) < 0.01) return '1' + basis;
        if (Math.abs(coef - 0.5) < 0.01) return '(1/2)' + basis;
        if (Math.abs(coef - 0.707) < 0.01 || Math.abs(coef - 1/Math.sqrt(2)) < 0.01) return '(1/√2)' + basis;
        return formatNum(coef) + basis;
    }
    
    function applyGate(qubit, gate) {
        var q = (qubit === 1) ? q1 : q2;
        if (gate === 'X') {
            var temp = q.a;
            q.a = q.b;
            q.b = temp;
            if (q.name === '|0⟩') q.name = '|1⟩';
            else if (q.name === '|1⟩') q.name = '|0⟩';
            else if (q.name === '|+⟩') q.name = '|+⟩';
            else if (q.name === '|-⟩') q.name = '|-⟩';
        } else if (gate === 'H') {
            var newA = (q.a + q.b) / Math.sqrt(2);
            var newB = (q.a - q.b) / Math.sqrt(2);
            q.a = newA;
            q.b = newB;
            if (q.name === '|0⟩') q.name = '|+⟩';
            else if (q.name === '|1⟩') q.name = '|-⟩';
            else if (q.name === '|+⟩') q.name = '|0⟩';
            else if (q.name === '|-⟩') q.name = '|1⟩';
        }
        updateDisplay();
    }
    
    function resetQubits() {
        q1 = {a: 1, b: 0, name: '|0⟩'};
        q2 = {a: 1, b: 0, name: '|0⟩'};
        updateDisplay();
    }
    
    window.addEventListener('load', updateDisplay);
    </script>
</body>
</html>
